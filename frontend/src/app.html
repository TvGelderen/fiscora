<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="icon" href="%sveltekit.assets%/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="
		Fiscora helps you track your income, expenses, and savings all in
		one place. Gain valuable insights, set goals, and make smarter financial
		decisions.
    " />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&display=swap" rel="stylesheet" />
    <title>Fiscora</title>
    <script>
        let dark = true;
        const theme = localStorage.getItem("theme");
        const html = document.querySelector("html");
        if (theme) {
            dark = theme === "dark";
        } else {
            const prefersDark = window.matchMedia(
                "(prefers-color-scheme: dark)",
            );
            if (prefersDark) {
                dark = true;
            } else {
                dark = false;
            }
        }

        html.classList.value = dark ? "dark" : "light";

        function checkScrollable() {
            const isScrollable = document.documentElement.scrollHeight > document.documentElement.clientHeight;
            document.body.classList.toggle('scrollable', isScrollable);
        }

        function addDialogListener() {
            const dialogObserver = new MutationObserver((mutations) => {
                mutations.forEach((mutation) => {
                    if (mutation.type === 'attributes' && mutation.attributeName === 'open') {
                        const dialog = mutation.target;
                        if (dialog.hasAttribute('open')) {
                            checkScrollable();
                        }
                    }
                });
            });

            const config = { attributes: true, subtree: true };
            dialogObserver.observe(document.body, config);
        }

        window.addEventListener('load', addDialogListener);
    </script>
    %sveltekit.head%
</head>

<body data-sveltekit-preload-data="hover" data-theme="custom-theme" class="relative min-h-dvh">
    <div style="display: contents">%sveltekit.body%</div>
</body>

</html>